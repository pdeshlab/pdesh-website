"0","# Let's select variables that we care about!"
"0","ces2020_selected <- ces2020_dataverse %>%"
"0","  select("
"0","    "
"0","    # id for each respondent"
"0","    caseid, "
"0","    "
"0","    # did you take the post-election survey?"
"0","    tookpost, "
"0","    "
"0","    # state respondent is living in."
"0","    # In this code, I am both selecting"
"0","    # the inputstate column and renaming"
"0","    # it to state_fips rough, all in"
"0","    # one line!"
"0","    state_fips_rough = inputstate) %>%"
"0","  mutate("
"0","    "
"0","    # tookpost is originally coded so 2 = Yes"
"0","    # and 1 = No. I am recoding it so Yes = 1"
"0","    # and No = 0. Why? When I do calculations, "
"0","    # the average of tookpost will be a proportion"
"0","    # between 0 and 1 that I can represent as a "
"0","    # percent (ex. ""85% of respondents took the"
"0","    # post-election survey"")."
"0","    tookpost_recoded = case_when("
"0","      tookpost == 1 ~ 0,"
"0","      tookpost == 2 ~ 1,"
"0","    ),"
"0","    "
"0","    # why am I changing state_fips_rough? Like"
"0","    # most coding, things were breaking which inspired"
"0","    # me to get creative. Try running this chunk without"
"0","    # this line and look at ces2020_selected. See anything"
"0","    # weird? Check before you read on!"
"0","    state_fips = as.character(sprintf(""%02d"", state_fips_rough))"
"0","    "
"0","    # Okay, now that you've looked, I'll spill the beans. "
"0","    # State FIPS codes are always two digits, like 15, 50, "
"0","    # and 02. R was reading in single digits like 02 as"
"0","    # just 2, which is a problem later on. To fix this"
"0","    # I used the function sprintf to tell R to add"
"0","    # leading zeroes to state_fips_rough until there"
"0","    # were two digits per entry. So a value of 4 would"
"0","    # turn into 04, but 36 would stay 36! I can't spend"
"0","    # more time on this now, but if people are interested"
"0","    # in this kind of data manipulation, I am happy to write"
"0","    # about it!"
"0","  )"
"0",""
